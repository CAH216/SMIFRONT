<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.4.1/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.4.1/js/responsive.bootstrap5.min.js"></script>

<!-- SweetAlert2 JS -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>

<script>
    // Script du sidebar
    $(document).ready(function() {
        // Toggle sidebar
        $('#toggleSidebar, #mobileToggle').on('click', function() {
            $('#sidebar').toggleClass('sidebar-collapsed mobile-visible');
            $('#overlay').toggleClass('active');
        });
        
        // Hide sidebar when clicking overlay (mobile)
        $('#overlay').on('click', function() {
            $('#sidebar').removeClass('mobile-visible');
            $('#overlay').removeClass('active');
        });
        
        // Show toasts if messages exist
        const toastElList = document.querySelectorAll('.toast');
        const toastList = [...toastElList].map(toastEl => {
            const toast = new bootstrap.Toast(toastEl, {
                autohide: true,
                delay: 5000
            });
            toast.show();
            return toast;
        });
    });
    
    // Gestion du thème
    document.addEventListener('DOMContentLoaded', function() {
        // Récupérer le thème sauvegardé, s'il existe
        const savedTheme = localStorage.getItem('dashboard-theme') || 'theme-blue';
        document.body.classList.add(savedTheme);
        
        // Ajouter des écouteurs d'événements pour les boutons de thème
        const themeButtons = document.querySelectorAll('.theme-item');
        themeButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Supprimer toutes les classes de thème existantes
                document.body.classList.remove('theme-blue', 'theme-green', 'theme-purple', 'theme-red');
                
                // Ajouter la nouvelle classe de thème
                const newTheme = this.getAttribute('data-theme');
                document.body.classList.add(newTheme);
                
                // Sauvegarder le thème dans le localStorage
                localStorage.setItem('dashboard-theme', newTheme);
            });
        });
    });
</script>